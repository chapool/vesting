# HZ Token 常见问题解答

## 文档概述

本文档汇总了关于 HZ Token 项目的常见问题和详细解答，涵盖代币经济、技术实现、使用指南等各个方面。

**文档版本**: v2.1  
**最后更新**: 2025年8月4日

> 🆕 **版本更新**: 新增了安全增强、动态交易税系统、分层ID管理等相关问题解答。

---

## 目录

1. [项目基础](#1-项目基础)
2. [代币经济](#2-代币经济)
3. [技术实现](#3-技术实现)
4. [🆕 版本 2.1 新增功能](#4-版本-21-新增功能)
5. [使用指南](#5-使用指南)
6. [安全相关](#6-安全相关)
7. [部署运维](#7-部署运维)

---

## 1. 项目基础

### Q1.1: HZ Token 是什么项目？
**A**: HZ Token 是一个基于以太坊的 ERC-20 代币项目，具有完整的代币经济模型和技术实现方案。项目包含代币合约、释放管理合约、挖矿奖励合约等核心组件，支持分层释放、三级审批、权限管理等功能。

### Q1.2: 项目的核心特点是什么？
**A**: 
- **安全优先**: 多重安全机制，完整的权限控制
- **经济激励**: 科学的代币分配和释放机制
- **技术先进**: 模块化设计，可扩展架构
- **治理透明**: 基于角色的权限管理，事件完整记录

### Q1.3: 项目当前的开发状态？
**A**: 项目处于合约开发完成、文档完善、准备部署阶段。所有核心合约已完成开发，技术文档已完善，正在进行最终的测试和部署准备工作。

---

## 2. 代币经济

### Q2.1: HZ Token 的总供应量是多少？
**A**: HZ Token 总供应量为 100 亿枚（10,000,000,000 HZ），采用固定供应量模型，不会增发。

### Q2.2: 代币分配方案是怎样的？
**A**: 
- **挖矿奖励**: 60亿枚 (60%) - 激励生态参与者，5年线性释放
- **运营生态**: 20亿枚 (20%) - 项目运营和生态建设，3年分期释放
- **团队顾问**: 10亿枚 (10%) - 团队激励，1年锁仓+3年释放
- **基石投资**: 10亿枚 (10%) - 早期投资者，2年线性释放

### Q2.3: 运营与生态发展部分的释放机制是什么？
**A**: 运营生态部分采用前期加速释放策略：
- **第1年**: 每月1亿枚 × 12个月 = 12亿枚 (60%)
- **第2-5年**: 每月约1,667万枚 × 48个月 = 8亿枚 (40%)

这种设计支持项目早期快速发展，后期平稳运营。

### Q2.4: 为什么第1年释放这么多运营资金？
**A**: 第1年是项目启动的关键期，需要大量资金用于：
- 市场推广和用户获取
- 生态合作伙伴激励
- 技术开发和产品完善
- 社区建设和活动开展

前期加速释放有助于项目快速建立市场地位和用户基础。

---

## 3. 技术实现

### Q3.1: 项目使用了哪些技术栈？
**A**: 
- **智能合约**: Solidity 0.8.19, OpenZeppelin 安全库
- **开发框架**: Hardhat, TypeScript
- **安全机制**: AccessControl, ReentrancyGuard, Pausable
- **测试工具**: Waffle, Ethers.js

### Q3.2: 合约的安全性如何保证？
**A**: 
- **代码审计**: 使用 Slither, MythX 等工具进行静态分析
- **测试覆盖**: 100% 单元测试覆盖率
- **安全库**: 基于 OpenZeppelin 经过验证的安全合约
- **权限控制**: 基于角色的精细权限管理
- **应急机制**: 紧急暂停、资金冻结等安全措施

### Q3.3: 为什么选择 Solidity 0.8+ 版本？
**A**: Solidity 0.8+ 版本提供内置的整数溢出检查，无需额外的 SafeMath 库，同时提供更好的类型安全和错误处理机制，大大提高了合约的安全性。

### Q3.4: MiningPool 的三级审批机制是如何工作的？
**A**: 
- **小额提现** (< 1万积分): 自动进入批量处理队列
- **中额提现** (1-10万积分): 需要审批员单独审批后执行
- **大额提现** (> 10万积分): 需要多重签名钱包审批执行

这种分层机制平衡了安全性和效率。

---

## 4. 🆕 版本 2.1 新增功能

### Q4.1: 版本 2.1 主要增加了什么功能？
**A**: 版本 2.1 包含了重大的安全增强和功能优化：

**🛡️ 安全增强**:
- 修复 MiningPool 关键安全漏洞（小额提现攻击防护）
- 新增冷却期和每日限额控制
- 实现分层ID系统，防止数据篡改

**🎯 功能优化**:
- 动态交易税系统（智能税率调整）
- 批量操作优化（Gas费用降低）
- 实时统计监控系统
- 过期请求自动清理

### Q4.2: MiningPool 的安全漏洞是什么？如何修复的？
**A**: **漏洞描述**: 原有的小额自动审批机制存在攻击风险，恶意用户可以通过频繁提交小额申请绕过审核机制。

**修复方案**:
1. **分离请求和转账**: 小额提现不再立即执行，改为链下审核后批量处理
2. **冷却期机制**: 用户请求间隔限制（默认1小时）
3. **每日限额控制**: 用户和全局每日提现限额保护
4. **分层ID系统**: 防止重复申请和数据篡改

### Q4.3: 动态交易税系统是如何工作的？
**A**: 动态交易税系统基于多个因素实时调整税率：

**基础税率类型**:
- 买入税: 从 AMM 池购买代币
- 卖出税: 向 AMM 池出售代币
- 转账税: 普通用户间转账
- 流动性税: 流动性相关操作

**动态调整因子**:
- 交易金额: 大额交易递增税率
- 交易量: 基于 24 小时交易量调整
- 交易类型: 卖出交易加税，买入交易优惠
- 市场活跃度: 基于交易频率调整

### Q4.4: 分层ID系统的优势是什么？
**A**: 分层ID系统提供了强大的数据安全保障：

**双向映射**:
- 链下ID ↔ 链上ID 双向关联
- 防止数据孕立和丢失

**防重复机制**:
- 链下ID唯一性检查
- 请求哈希去重
- 时间戳防伪造

**批量验证**:
- 高效的批量查询功能
- 数据一致性验证
- 完整的事件日志

### Q4.5: 新版本的Gas优化效果如何？
**A**: 版本 2.1 在多个方面实现了 Gas 优化：

**批量操作**:
- 批量设置 AMM 池和免税地址
- 批量小额提现处理
- 批量查询操作

**存储优化**:
- 优化的数据结构设计
- 减少不必要的存储操作
- 高效的数据布局

**查询优化**:
- O(1) 时间复杂度的关键操作
- 智能合约缓存机制
- 清理过期数据减少存储成本

### Q4.6: 如何使用税收预览功能？
**A**: 税收预览功能允许用户在执行交易前查看具体的税收金额：

```solidity
// 调用预览功能
(uint256 taxAmount, uint256 transferAmount, string memory taxType, 
 uint256 baseTaxRate, uint256 dynamicMultiplier) = 
    hzToken.previewTax(from, to, amount);

console.log("税收金额:", taxAmount);
console.log("实际转账金额:", transferAmount);
console.log("税收类型:", taxType);
console.log("动态倍数:", dynamicMultiplier);
```

**返回信息**:
- `taxAmount`: 具体税收金额
- `transferAmount`: 实际到账金额
- `taxType`: 税收类型（buy/sell/transfer/liquidity）
- `baseTaxRate`: 基础税率
- `dynamicMultiplier`: 动态调整倍数

---

## 5. 使用指南

### Q4.1: 用户如何获得 HZ Token？
**A**: 用户可通过以下方式获得 HZ Token：
- 参与挖矿活动获得奖励
- 通过交易所购买
- 参与社区活动获得空投
- 提供流动性获得 LP 奖励

### Q4.2: HZ Token 有哪些使用场景？
**A**: 
- **支付**: 生态系统内的通用货币
- **质押**: 质押获得额外收益
- **治理**: 参与项目重要决策投票
- **手续费**: 支付交易手续费享受折扣

### Q4.3: 如何参与 HZ Token 的治理？
**A**: 持有 HZ Token 的用户可以：
- 参与治理提案投票
- 提交改进建议
- 参与社区讨论
- 影响项目发展方向

投票权重与持有的代币数量相关。

### Q4.4: Vesting 合约中的代理释放功能是什么？
**A**: 代理释放功能允许合约所有者直接帮助用户提取已释放的代币，特点包括：
- **无需用户授权**: owner可以直接代为释放，简化操作流程
- **只能释放已解锁代币**: 不能提前释放未到期的代币
- **完整事件记录**: 所有代理释放操作都有记录可查
- **推送式服务**: 用户无需主动操作，降低使用门槛
- **批量处理**: 支持批量释放，节省Gas费用

---

## 6. 安全相关

### Q5.1: 如果发现安全漏洞怎么办？
**A**: 项目建立了完整的安全响应机制：
1. **报告渠道**: 通过官方渠道报告安全问题
2. **快速响应**: 24小时内评估和响应
3. **应急措施**: 必要时可紧急暂停合约
4. **修复流程**: 透明的修复和升级流程
5. **奖励机制**: 对发现重大漏洞的用户给予奖励

### Q5.2: 合约是否支持升级？
**A**: 项目采用OpenZeppelin的可升级代理模式，支持合约升级：
- **时间锁升级**: 所有升级操作都有48小时的时间锁
- **多签升级**: 升级操作需要多重签名确认
- **社区监督**: 升级提案公开，接受社区监督
- **存储槽保护**: 使用Storage Gap保证升级兼容性
- **版本控制**: 严格的版本管理和回滚机制

### Q5.3: 黑名单功能会被滥用吗？
**A**: 黑名单功能有严格的使用限制：
- 只有特定角色可以操作
- 所有操作都有事件记录
- 支持移除黑名单
- 主要用于合规和风险控制
- 受到社区监督

### Q5.4: 私钥丢失了怎么办？
**A**: 
- **用户私钥**: 项目无法帮助恢复，请务必安全保管
- **管理私钥**: 使用多重签名钱包，多人共同管理
- **备份机制**: 建立完善的密钥备份和恢复流程
- **预防措施**: 使用硬件钱包等安全存储方案

---

## 7. 部署运维

### Q6.1: 合约部署在哪个网络？
**A**: 
- **主网**: Ethereum Mainnet (生产环境)
- **测试网**: Sepolia (测试环境)
- **本地**: Hardhat Network (开发环境)

### Q6.2: 如何验证合约的真实性？
**A**: 
- **源码验证**: 在 Etherscan 上查看已验证的源码
- **地址确认**: 通过官方渠道确认合约地址
- **代码对比**: 将公开源码与部署合约对比
- **社区验证**: 通过社区独立验证

### Q6.3: Gas 费用大概是多少？
**A**: 具体费用取决于网络拥堵情况，预估：
- **转账**: 50,000-100,000 Gas
- **批量提现**: 200,000-500,000 Gas
- **创建 Vesting**: 300,000-600,000 Gas

建议在 Gas 费用较低时进行操作。

### Q6.4: 如何监控合约运行状态？
**A**: 
- **事件监听**: 监听合约事件获取实时状态
- **链上查询**: 定期查询合约状态变量
- **告警系统**: 设置异常告警机制
- **仪表板**: 建立实时监控仪表板

---

## 常见误解澄清

### 误解1: "代币总量会增发"
**澄清**: HZ Token 采用固定总量模型，总量100亿枚，不会增发。

### 误解2: "团队可以随时抛售代币"
**澄清**: 团队代币有1年完全锁仓+3年线性释放的机制，无法提前抛售。

### 误解3: "合约没有安全审计"
**澄清**: 项目使用业界标准的安全工具进行静态分析，并计划进行第三方安全审计。

### 误解4: "普通用户无法参与治理"
**澄清**: 任何持有 HZ Token 的用户都可以参与治理投票，投票权重与持有量相关。

---

## 技术支持

### 开发者资源
- **文档**: 完整技术文档和 API 参考
- **示例**: 智能合约交互示例代码
- **工具**: 开发工具和测试套件
- **社区**: 开发者交流社区

### 用户支持
- **教程**: 详细的使用教程和指南
- **FAQ**: 常见问题解答
- **客服**: 技术支持和问题解答
- **社群**: 用户交流和互助

---

**相关文档**:
- [系统架构设计](./0.Architecture.md)
- [代币经济模型](./1.Tokenomics.md)
- [合约技术实现](./2.Contracts.md)
- [部署指南](./3.Deployment.md)
- [安全机制](./4.Security.md)
- [📋 更新日志](./6.Updates.md) - **新增**

---

*文档版本: v2.1*  
*最后更新: 2025年8月4日*
*包含版本 2.1 新增功能和安全增强相关问题解答*