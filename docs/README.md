# HZ Token 合约设计文档

## 项目概述

HZ Token 是一个基于以太坊 ERC-20 标准的代币生态系统，具备铸造、销毁、暂停、黑名单、交易税等扩展功能。项目采用 Vesting 机制管理代币分配，通过 MiningPool 合约处理挖矿奖励分发。

### 核心特性

- **总量固定**: 100 亿 HZ 代币，杜绝通胀风险
- **分层释放**: 通过 Vesting 合约管理有序释放
- **动态税收**: 智能动态调整的交易税系统
- **安全防护**: 冷却期、限额控制、分层ID管理
- **批量处理**: 高效的批量操作和查询功能
- **实时监控**: 完整的统计分析和风险监控

---

## 文档导航

### 📋 核心设计文档

| 文档 | 描述 | 主要内容 |
|------|------|----------|
| [0.Architecture.md](./0.Architecture.md) | 系统架构设计 | 整体架构图、合约关系、设计理念 |
| [1.Tokenomics.md](./1.Tokenomics.md) | 代币经济模型 | 分配方案、释放机制、时间线 |
| [2.Contracts.md](./2.Contracts.md) | 合约技术实现 | 接口设计、核心算法、功能实现 |
| [3.Deployment.md](./3.Deployment.md) | 部署指南 | 部署流程、配置方法、验证步骤 |
| [4.Security.md](./4.Security.md) | 安全机制 | 权限管理、风险控制、应急预案 |
| [5.FAQ.md](./5.FAQ.md) | 常见问题 | 技术问答、使用指南、故障排除 |
| [6.Updates.md](./6.Updates.md) | 🆕 更新日志 | 版本更新、功能增强、安全修复 |

### 🔧 快速导航

- **开始开发**: 阅读 [架构设计](./0.Architecture.md) → [合约实现](./2.Contracts.md)
- **了解代币**: 查看 [代币经济](./1.Tokenomics.md) → [常见问题](./5.FAQ.md)
- **部署合约**: 参考 [部署指南](./3.Deployment.md) → [安全机制](./4.Security.md)

---

## 技术栈

- **智能合约**: Solidity ^0.8.19
- **开发框架**: Hardhat
- **安全库**: OpenZeppelin Contracts
- **标准协议**: ERC-20, EIP-2612
- **网络**: Ethereum Mainnet

---

## 合约概览

### 核心合约

| 合约 | 功能描述 | 关键特性 |
|------|----------|----------|
| **HZToken.sol** | 核心代币合约 | ERC-20 + 扩展功能 |
| **Vesting.sol** | 代币释放管理 | 时间锁定、分层释放 |
| **MiningPool.sol** | 挖矿奖励分发 | 三级审批、批量处理 |
| **Constants.sol** | 系统配置管理 | 统一常量、参数配置 |

### 合约关系图

```
HZ Token (核心代币)
    ↓ (铸造全部代币)
Vesting (分配管理)
    ↓ (挖矿代币转入)
MiningPool (挖矿分发)
    ↓ (分配给用户)
用户钱包
```

---

## 代币分配

| 类型 | 数量 | 占比 | 释放方式 |
|------|------|------|----------|
| 挖矿奖励 | 60亿 HZ | 60% | 5年线性释放 |
| 运营生态 | 20亿 HZ | 20% | 3年分期释放 |
| 团队顾问 | 10亿 HZ | 10% | 1年锁仓+3年线性 |
| 基石轮 | 10亿 HZ | 10% | 2年线性释放 |

---

## 🆕 最新更新

### 版本 2.1.0 - 2025年8月4日

**🛡️ 安全增强**
- ✅ 修复 MiningPool 安全漏洞（小额提现防护）
- ✅ 实现分层ID系统（链上链下强关联）
- ✅ 添加冷却期和每日限额控制
- ✅ 实现链下审核批量处理机制

**🎯 功能优化**
- ✅ 动态交易税系统（智能税率调整）
- ✅ 批量操作优化（Gas费用降低）
- ✅ 实时统计监控系统
- ✅ 过期请求自动清理

**📚 文档完善**
- ✅ 更新日志详细记录
- ✅ 接口文档同步更新
- ✅ 安全机制文档完善

详细更新内容请查看 [更新日志](./6.Updates.md)

---

## 开发进度

- [x] 架构设计完成
- [x] 代币经济模型确定
- [x] 合约接口设计完成
- [x] 安全机制设计完成
- [x] 合约代码实现
- [x] MiningPool安全优化完成
- [x] 动态交易税系统完成
- [x] 分层ID系统完成
- [x] 文档同步更新完成
- [ ] 单元测试编写
- [ ] 安全审计
- [ ] 主网部署

---

## 贡献指南

1. Fork 本仓库
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

---

## 联系信息

- **项目主页**: [GitHub Repository](#)
- **技术文档**: 本目录下的详细文档
- **问题反馈**: GitHub Issues
- **安全报告**: security@hztoken.com

---

*最后更新: 2025年8月4日*
*当前版本: 2.1.0*